<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.sist.user.mapper.userLecture_mapper">
<resultMap type="kr.co.sist.user.domain.LectureView" id="LectureViewInfo">
	<result column="status" property="status"/>
	<result column="lcode" property="lcode"/>
	<result column="lname" property="lname"/>
	<result column="start_date" property="startDate"/>
	<result column="end_date" property="endDate"/>
	<result column="teacher_name" property="teacherName"/>
	<result column="max_member" property="maxMember"/>
	<result column="now_member" property="nowMember"/>
</resultMap>
<select id="selectLectureInfo" resultMap="LectureViewInfo" parameterType="String">
	select STATUS, LNAME, START_DATE, END_DATE, TEACHER_NAME, MAX_MEMBER,
	nvl((select count(*)
		from STUDENTS
		where lcode = #{ lcode }), 0) as now_member
from LESSON
where lcode = #{ lcode }

</select>

<select id="selectLcode" resultType="String" parameterType="String">
	select LCODE from LESSON
	where TEACHER_NAME = #{ TEACHER_NAME }
</select>

<select id="selectTeachername" resultType="String" parameterType="String">
	select TEACHER_NAME from TEACHER
	where CLIENT_ID = #{ CLIENT_ID }
</select>

</mapper>






